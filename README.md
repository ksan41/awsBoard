# freeboard

로그인, 게시글, 댓글 기능이 들어간 간단한 게시판 프로젝트 입니다.

설계부터 구현까지 진행하는 과정을 담았습니다.  



---

## 목차

1. 개발환경
2. 설계
   - 기능분석
   - 도메인 모델, 테이블 설계
   - 화면 설계
3. 기능 구현
4. 웹 계층 개발(화면)
5. 단위 테스트 작성



---

## 1. 개발환경

- 운영체제: Window OS (10)
- IDE: IntelliJ IDEA Community (2020.1.4)
- Language: Java (jdk8)
- Framework: SpringBoot (2.3.2 RELEASE)
- WAS: Apache Tomcat 8.5
- Build: Gradle 4.10.2
- Front: Thymeleaf
- Plugins: Lombok
- 형상관리: Git - Git Bash, GitHub Desktop
- 단위테스트: JUnit4

---

## 2. 설계

#### - 기능분석

1. 회원기능
   -회원가입
   -로그인/로그아웃
   -회원정보 수정

2. 게시판
   -게시글 조회
   -게시글 등록
   -게시글 수정
   -게시글 삭제
   -게시글 검색
   -페이징바

3. 댓글
   -댓글 등록
   -댓글 수정
   -댓글 삭제

   

   *기타 요구사항

    -로그인하지 않으면 게시글은 조회만 가능하다.
    -게시글 검색은 작성자(닉네임)/제목/제목+내용으로 검색할 수 있다.
    -게시글을 열람할 때 조회수도 증가한다.



#### 도메인 모델, 테이블 설계

https://drive.google.com/file/d/1Op6dURYX1JgbrNHc164l-NDWLJy5yU9G/view?usp=sharing

회원은 여러 게시글을 작성할 수 있다. (1대 다)
하나의 게시글에는 여러개의 댓글이 달릴 수 있다. (1대 다)



#### *도메인

-회원(member)

-게시글(board)

-댓글(reply)

#### *보조 클래스

-회원권한(Role) : Enum

-게시글상태(BoardStatus) : Enum // 게시글, 댓글 같이 사용

-검색조건(BoardSearch) : Enum // 게시글 검색용 검색조건, 카테고리(작성자, 제목, 제목+내용)



#### 화면 설계

**https://ovenapp.io/view/EmXhOdyDCMGCrPOgfWhHYBhLDwwEqyak/ALD8x**

카카오 오븐 사용



-홈 화면

-로그인 페이지, 회원가입 페이지

-마이페이지

-게시글 작성, 수정, 상세페이지

총 7개 페이지로 구성



# 3. 기능구현



# 4. 웹 계층 개발(화면)





# 5. 단위 테스트 작성

각 도메인 서비스의 메서드들을 테스트.

JUnit4 사용



- MemberServiceTest

  - 회원가입 테스트

  ​       : 아이디, 비밀번호, 닉네임이 주어졌을때 정상적으로 가입이 되는지 테스트한다.

  - 중복 아이디 체크 테스트

    : 가입 시 입력받은 아이디 중복확인 기능을 테스트한다.

  - 회원정보 수정 테스트

    : 새 비밀번호, 닉네임이 주어졌을 때 정상적으로 회원정보 수정이 되는지 테스트한다.

      비밀번호는 저장 시 암호화 되기 때문에 BCryptPasswordEncoder의 matches메소드로

      비교한다.

- BoardServiceTest

  - 글 등록 테스트

    :  회원 아이디, 제목, 내용이 주어졌을 때 정상적으로 게시글이 등록 되는지 테스트한다.

  - 게시글 삭제 테스트

    :  주어진 게시글 번호(pk)에 해당하는 게시글이 삭제되는지 테스트한다.

       (실제로는 status값이 DELETE로 변경된다.)

  - 게시글 수정 테스트

    : 게시글 번호와 수정할 제목과 내용이 주어졌을 때 정상적으로 게시글이 수정되는지 

      테스트한다.

- ReplyServiceTest

  - 댓글 작성 테스트

    :  게시글 번호, 회원아이디(댓글 작성자), 댓글 내용이 주어졌을 때 정상적으로 댓글이 등록 

       되는지 테스트한다. 해당 게시글의 댓글 갯수도 1 증가했는지 확인한다.

  - 댓글 수정 테스트

    : 회원아이디(댓글 작성자), 새 댓글 내용이 주어졌을 때 정상적으로 댓글이 수정되는지 확인한다.

  - 댓글 삭제 테스트

    : 댓글 아이디(pk)가 주어졌을 때 해당 댓글이 삭제되는지 테스트한다.

      (삭제 시 댓글 상태값이 DELETE로 변경되며, 내용은 "삭제된 댓글입니다."로 변경된다.)